ldc.register("spinner",["auth","ldcvmgr","assetmgr","viewLocals","editor","payItem,","notify"],function(n){var e,t,o,r,i,d,a,c,l,s;return e=n.auth,t=n.ldcvmgr,n.assetmgr,o=n.viewLocals,r=n.editor,n.payItem,n.notify,i={},i.lded=d=new ldEditor({root:".lded",view:".lded .viewer",renderer:a,palconfig:r.palconfig,modalconfig:r.modalconfig,ui:{pos:"top",size:"sm",class:"lded-sparse compact",tab:{class:"nav-pills"}},action:{metainfo:function(){return"generated by https://loading.io/"},download:function(n){var e,t,o,d,a;return e=n.act,t=n.lded,o=(i.mod.license||"pro").toLowerCase(),d="free"===o?"free":"by"===o?"attribute":"pay",a={type:"spinner",id:i.mod.id,name:i.mod.name},r.action.download({act:e,item:a,type:d,lded:t})},gopro:function(){return r.action.gopro()},patchEdit:function(n){var e,t,o=[];for(e in n)(t=n[e]).priority||o.push(t.priority=1.5);return o},setPro:function(n){return r.setPro(n,{lded:i.lded,showTaglet:!1})},save:function(n){return r.action.save({lded:d,params:n,key:i.key,name:i.mod.name,type:"spinner",payload:{id:i.mod.id,config:n.config}}).then(function(n){var e;if(null==n&&(n={}),e=n.key)return i.key=e})}}}),d.renderer=a=new ModRenderer(".lded .viewer",{choosefont:d.choosefont}),ldc.on("auth.change",function(n){var t;return t=n.user,e.userinfo(t).then(function(n){return d.setPro(n.isPro)})}),c=function(n,e,o){return null==o&&(o={}),o.noScroll||scrollto("#editor",500,-100),ModManager.load("spinner",n).catch(function(){return t.get("mod-load-failed")}).then(function(n){return a.initMod(i.mod=n)}).then(function(){return d.setMod(i.mod,e)}).then(function(){var n,e;return n=(i.mod.license||"pro").toLowerCase(),e="pro"===n?"($1.99)":"",s.innerHTML='Download with<br>\n<a href="/license/#'+n.toLowerCase()+'-license" target="_blank">\n  <b class="text-capitalize">'+n+" License"+e+"</b>\n</a>"}).then(function(){return r.grantType({id:n,type:"spinner"},!1)}).then(function(n){return d.setPro(!!n)})},ldc.action({load:function(n){return c(n)}}),o||(o={}),o.asset?(i.asset=l=o.asset,i.key=l.key,c(l.payload.id,l.payload.config)):o.mod?c(o.mod.id):c("spinner",null,{noScroll:!0}),(s=ld$.find(d.root,".ctrl .btn",0)).classList.add("hint"),new ldView({root:document,handler:{"landing-search-icon":function(n){var e,t,o,r;return e=n.node,t=ld$.find(e,"input",0),o=ld$.find(e,".btn",0),r=function(){return window.location.href="/icon/?keyword="+encodeURIComponent(t.value)},o.addEventListener("click",function(){return r()}),t.addEventListener("keyup",function(n){if(13===n.keyCode)return r()})}}})}),ldc.app("spinner");